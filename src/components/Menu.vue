<script setup>
import MenuItem from './MenuItem.vue'
import { computed } from 'vue'

const emit = defineEmits(['select'])

const props = defineProps([
  'theme',
  'active',
  'options'
])

const classObject = computed(() => {
  const c = ['menu']

  if(props.active) c.push('-active')
  else c.push('-inactive')

  return c.join(' ')
})

function select(optionId) {
  emit('select', optionId)
}

</script>

<template>
  <div :class="classObject">
    <div class="title">      
      <svg viewBox="0 0 141 26" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M0.59375 18.9993V18.7293L1.16075 18.5133C1.73675 18.2793 2.02475 17.8203 2.02475 17.1363V3.04227C2.02475 2.32227 1.73675 1.86327 1.16075 1.66527L0.59375 1.44927V1.17927H7.72175C9.62975 1.17927 11.2678 1.53927 12.6358 2.25927C14.0218 2.96127 15.0838 3.97827 15.8218 5.31027C16.5778 6.62427 16.9558 8.20827 16.9558 10.0623C16.9558 11.9523 16.5508 13.5633 15.7408 14.8953C14.9308 16.2273 13.7968 17.2443 12.3388 17.9463C10.8988 18.6483 9.19775 18.9993 7.23575 18.9993H0.59375ZM6.07475 18.4593H7.23575C8.53175 18.4593 9.57575 18.2073 10.3678 17.7033C11.1598 17.1813 11.7358 16.3173 12.0957 15.1113C12.4737 13.8873 12.6628 12.2133 12.6628 10.0893C12.6628 7.96527 12.4737 6.30027 12.0957 5.09427C11.7358 3.87027 11.1688 3.00627 10.3948 2.50227C9.62075 1.98027 8.60375 1.71927 7.34375 1.71927H6.07475V18.4593Z" fill="currentColor"/>
        <path d="M21.6995 19.4043C20.6555 19.4043 19.7735 19.1073 19.0535 18.5133C18.3515 17.9193 18.0005 17.0643 18.0005 15.9483C18.0005 15.1023 18.4325 14.3283 19.2965 13.6263C20.1605 12.9063 21.5195 12.3663 23.3735 12.0063C23.6615 11.9523 23.9855 11.8983 24.3455 11.8443C24.7055 11.7723 25.0835 11.7003 25.4795 11.6283V9.49527C25.4795 8.27127 25.3265 7.41627 25.0205 6.93027C24.7325 6.42627 24.2735 6.17427 23.6435 6.17427C23.2115 6.17427 22.8695 6.31827 22.6175 6.60627C22.3655 6.87627 22.2035 7.35327 22.1315 8.03727L22.0775 8.33427C22.0415 9.10827 21.8525 9.67527 21.5105 10.0353C21.1685 10.3953 20.7455 10.5753 20.2415 10.5753C19.7735 10.5753 19.3865 10.4313 19.0805 10.1433C18.7745 9.85527 18.6215 9.46827 18.6215 8.98227C18.6215 8.24427 18.8735 7.62327 19.3775 7.11927C19.8995 6.61527 20.5835 6.23727 21.4295 5.98527C22.2755 5.73327 23.1935 5.60727 24.1835 5.60727C25.7855 5.60727 27.0185 6.00327 27.8825 6.79527C28.7645 7.56927 29.2055 8.83827 29.2055 10.6023V16.5693C29.2055 17.3793 29.5835 17.7843 30.3395 17.7843H30.9335L31.1765 18.0003C30.8345 18.4323 30.4565 18.7653 30.0425 18.9993C29.6465 19.2333 29.0795 19.3503 28.3415 19.3503C27.5495 19.3503 26.9195 19.1703 26.4515 18.8103C26.0015 18.4323 25.7045 17.9373 25.5605 17.3253C25.0205 17.9013 24.4625 18.3963 23.8865 18.8103C23.3285 19.2063 22.5995 19.4043 21.6995 19.4043ZM23.3465 17.7573C23.7065 17.7573 24.0395 17.6763 24.3455 17.5143C24.6695 17.3343 25.0475 17.0643 25.4795 16.7043V12.1683C25.2995 12.2043 25.1195 12.2403 24.9395 12.2763C24.7595 12.3123 24.5525 12.3483 24.3185 12.3843C23.4905 12.6003 22.8245 12.9693 22.3205 13.4913C21.8345 13.9953 21.5915 14.6793 21.5915 15.5433C21.5915 16.2813 21.7625 16.8393 22.1045 17.2173C22.4465 17.5773 22.8605 17.7573 23.3465 17.7573Z" fill="currentColor"/>
        <path d="M33.7943 25.4793C33.0743 25.4793 32.4983 25.2993 32.0663 24.9393C31.6523 24.5793 31.4453 24.1203 31.4453 23.5623C31.4453 23.0583 31.6253 22.6533 31.9853 22.3473C32.3453 22.0413 32.7503 21.8883 33.2003 21.8883C33.6503 21.8883 34.0283 21.9783 34.3343 22.1583C34.6403 22.3563 34.9103 22.6353 35.1443 22.9953L35.3333 23.2113C35.7293 23.7513 36.1253 23.7423 36.5213 23.1843C36.6833 22.9143 36.8633 22.5543 37.0613 22.1043C37.2773 21.6723 37.5203 21.0873 37.7903 20.3493L32.5523 7.82127C32.4263 7.47927 32.2913 7.20927 32.1473 7.01127C32.0033 6.79527 31.7693 6.61527 31.4453 6.47127L30.9593 6.28227V6.01227H37.6823V6.25527L37.1423 6.47127C36.7463 6.59727 36.5393 6.80427 36.5213 7.09227C36.5213 7.36227 36.5933 7.70427 36.7373 8.11827L39.5453 15.4083L42.2183 8.03727C42.3623 7.62327 42.4163 7.28127 42.3803 7.01127C42.3443 6.72327 42.1193 6.52527 41.7053 6.41727L41.1383 6.28227V6.01227H44.8913V6.28227L44.2973 6.47127C43.8833 6.59727 43.5953 6.77727 43.4333 7.01127C43.2713 7.24527 43.1183 7.56927 42.9743 7.98327L38.6273 19.8363C37.9253 21.7263 37.2233 23.1393 36.5213 24.0753C35.8193 25.0113 34.9103 25.4793 33.7943 25.4793Z" fill="currentColor"/>
        <path d="M57.3627 19.4043C56.1747 19.4043 55.1577 19.1883 54.3117 18.7563C53.4837 18.3063 52.8537 17.7213 52.4217 17.0013C51.9897 16.2813 51.7737 15.4803 51.7737 14.5983C51.7737 12.4203 53.1777 10.7463 55.9857 9.57627C55.4817 8.89227 55.0317 8.19927 54.6357 7.49727C54.2577 6.79527 54.0687 5.97627 54.0687 5.04027C54.0687 3.76227 54.5187 2.74527 55.4187 1.98927C56.3367 1.21527 57.5337 0.828266 59.0097 0.828266C60.4497 0.828266 61.5657 1.15227 62.3577 1.80027C63.1497 2.43027 63.5457 3.26727 63.5457 4.31127C63.5457 5.19327 63.1857 5.96727 62.4657 6.63327C61.7457 7.29927 60.7197 7.91127 59.3877 8.46927C59.7297 8.84727 60.0807 9.25227 60.4407 9.68427C60.8187 10.0983 61.2057 10.5123 61.6017 10.9263C62.0877 11.4663 62.5557 11.9793 63.0057 12.4653C63.4737 12.9513 63.9417 13.4553 64.4097 13.9773C64.8417 13.3833 65.2467 12.6633 65.6247 11.8173C66.0027 10.9713 66.2997 10.0803 66.5157 9.14427C66.6597 8.46027 66.3987 8.01927 65.7327 7.82127L65.5437 7.74027V7.47027H68.5947V7.74027L68.3517 7.82127C67.7577 8.01927 67.3707 8.43327 67.1907 9.06327C66.9207 10.0713 66.5877 11.0253 66.1917 11.9253C65.7957 12.8253 65.3367 13.6443 64.8147 14.3823L67.7037 17.4333C67.9377 17.6853 68.1717 17.8923 68.4057 18.0543C68.6397 18.2163 68.9007 18.3783 69.1887 18.5403L69.5667 18.7293V18.9993H64.1127L62.3037 17.0553C61.9617 17.4333 61.5747 17.8023 61.1427 18.1623C60.7107 18.5223 60.1887 18.8193 59.5767 19.0533C58.9647 19.2873 58.2267 19.4043 57.3627 19.4043ZM59.0637 8.11827C59.7657 7.48827 60.2697 6.85827 60.5757 6.22827C60.8997 5.58027 61.0617 4.86927 61.0617 4.09527C61.0617 3.39327 60.8817 2.82627 60.5217 2.39427C60.1617 1.94427 59.6667 1.71927 59.0367 1.71927C58.4427 1.71927 57.9477 1.93527 57.5517 2.36726C57.1557 2.79927 56.9577 3.34827 56.9577 4.01427C56.9577 4.42827 57.0297 4.86027 57.1737 5.31027C57.3357 5.76027 57.6147 6.27327 58.0107 6.84927C58.1187 6.99327 58.2627 7.16427 58.4427 7.36227C58.6227 7.56027 58.8297 7.81227 59.0637 8.11827ZM58.9287 17.5953C59.5587 17.5953 60.1257 17.5053 60.6297 17.3253C61.1337 17.1273 61.5657 16.8843 61.9257 16.5963C61.4937 16.1103 61.0437 15.6063 60.5757 15.0843C60.1077 14.5443 59.6667 14.0313 59.2527 13.5453C58.7487 12.9513 58.2537 12.3573 57.7677 11.7633C57.2997 11.1693 56.8317 10.5933 56.3637 10.0353C55.8957 10.4673 55.5537 10.9713 55.3377 11.5473C55.1217 12.1233 55.0137 12.7263 55.0137 13.3563C55.0137 14.5803 55.3737 15.5973 56.0937 16.4073C56.8317 17.1993 57.7767 17.5953 58.9287 17.5953Z" fill="currentColor"/>
        <path d="M77.4096 18.9993V18.7293L78.3006 18.4593C78.6246 18.3693 78.8586 18.1983 79.0026 17.9463C79.1466 17.6763 79.2186 17.3613 79.2186 17.0013V4.01427C79.0206 3.58227 78.8586 3.25827 78.7326 3.04227C78.6246 2.82627 78.4986 2.64627 78.3546 2.50227C78.2106 2.34027 78.0126 2.14227 77.7606 1.90827L77.3016 1.44927V1.17927H82.0806L91.0446 13.4103V3.23127C91.0446 2.87127 90.9816 2.54727 90.8556 2.25927C90.7476 1.97127 90.5136 1.78227 90.1536 1.69227L89.2626 1.44927V1.17927H93.1236V1.44927L92.3946 1.69227C92.0706 1.80027 91.8726 1.98927 91.8006 2.25927C91.7286 2.52927 91.6926 2.84427 91.6926 3.20427V19.0803H90.1806L79.8666 4.90527V17.0013C79.8666 17.3613 79.9206 17.6673 80.0286 17.9193C80.1366 18.1713 80.3616 18.3513 80.7036 18.4593L81.5136 18.7293V18.9993H77.4096Z" fill="currentColor"/>
        <path d="M97.2778 4.20327C96.6658 4.20327 96.1438 4.01427 95.7118 3.63627C95.2978 3.24027 95.0908 2.74527 95.0908 2.15127C95.0908 1.53927 95.2978 1.04427 95.7118 0.666266C96.1438 0.288266 96.6658 0.0992653 97.2778 0.0992653C97.8898 0.0992653 98.4028 0.288266 98.8168 0.666266C99.2308 1.04427 99.4378 1.53927 99.4378 2.15127C99.4378 2.74527 99.2308 3.24027 98.8168 3.63627C98.4028 4.01427 97.8898 4.20327 97.2778 4.20327ZM94.0918 18.9993V18.7293L94.4698 18.6213C94.8298 18.5133 95.0728 18.3513 95.1988 18.1353C95.3428 17.9193 95.4148 17.6313 95.4148 17.2713V8.82027C95.4148 8.44227 95.3428 8.16327 95.1988 7.98327C95.0728 7.78527 94.8298 7.65027 94.4698 7.57827L94.0918 7.49727V7.22727L99.0328 5.63427L99.3028 5.90427L99.2218 9.73827V17.2983C99.2218 17.6583 99.2848 17.9463 99.4108 18.1623C99.5548 18.3783 99.7978 18.5403 100.14 18.6483L100.41 18.7293V18.9993H94.0918Z" fill="currentColor"/>
        <path d="M107.491 14.3283C106.249 14.3283 105.196 14.1213 104.332 13.7073V14.6253C104.332 15.1833 104.611 15.5163 105.169 15.6243L110.245 16.5693C111.091 16.7313 111.856 16.9473 112.54 17.2173C113.224 17.4693 113.773 17.8383 114.187 18.3243C114.601 18.7923 114.808 19.4403 114.808 20.2683C114.808 21.1503 114.52 21.9603 113.944 22.6983C113.368 23.4543 112.513 24.0573 111.379 24.5073C110.263 24.9753 108.868 25.2093 107.194 25.2093C105.754 25.2093 104.611 25.0563 103.765 24.7503C102.919 24.4623 102.316 24.0843 101.956 23.6163C101.614 23.1483 101.443 22.6533 101.443 22.1313C101.443 21.4833 101.659 20.8263 102.091 20.1603C102.541 19.5123 103.09 18.9903 103.738 18.5943C103.18 18.3783 102.775 18.0993 102.523 17.7573C102.271 17.4153 102.145 17.0463 102.145 16.6503C102.145 16.2903 102.235 15.9573 102.415 15.6513C102.613 15.3273 102.847 15.0033 103.117 14.6793L104.008 13.5453C102.694 12.7893 102.037 11.6013 102.037 9.98127C102.037 8.68527 102.496 7.63227 103.414 6.82227C104.35 6.01227 105.718 5.60727 107.518 5.60727C108.436 5.60727 109.237 5.71527 109.921 5.93127C110.623 6.14727 111.199 6.45327 111.649 6.84927C112.225 6.75927 112.765 6.61527 113.269 6.41727C113.791 6.20127 114.259 5.91327 114.673 5.55327L115.051 5.82327V7.20027H112C112.648 7.92027 112.972 8.84727 112.972 9.98127C112.972 11.2413 112.504 12.2853 111.568 13.1133C110.65 13.9233 109.291 14.3283 107.491 14.3283ZM107.464 13.7883C108.184 13.7883 108.706 13.4913 109.03 12.8973C109.372 12.3033 109.543 11.3133 109.543 9.92727C109.543 8.54127 109.372 7.56927 109.03 7.01127C108.706 6.43527 108.202 6.14727 107.518 6.14727C106.852 6.14727 106.348 6.44427 106.006 7.03827C105.664 7.61427 105.493 8.59527 105.493 9.98127C105.493 11.3673 105.646 12.3483 105.952 12.9243C106.276 13.5003 106.78 13.7883 107.464 13.7883ZM103.441 21.2673C103.441 22.3293 103.765 23.1303 104.413 23.6703C105.079 24.2103 106.123 24.4803 107.545 24.4803C109.039 24.4803 110.164 24.2373 110.92 23.7513C111.676 23.2653 112.054 22.5813 112.054 21.6993C112.054 21.1953 111.865 20.7903 111.487 20.4843C111.127 20.1783 110.506 19.9443 109.624 19.7823L104.737 18.8643C104.593 18.8283 104.449 18.7923 104.305 18.7563C104.053 19.1163 103.846 19.5213 103.684 19.9713C103.522 20.4393 103.441 20.8713 103.441 21.2673Z" fill="currentColor"/>
        <path d="M115.924 18.9993V18.7293L116.248 18.6213C116.896 18.4053 117.22 17.9553 117.22 17.2713V2.85327C117.22 2.47527 117.157 2.19627 117.031 2.01627C116.905 1.83627 116.662 1.70127 116.302 1.61127L115.897 1.50327V1.23327L120.649 0.0722656L121.081 0.315266L120.973 4.12227V7.49727C121.603 6.97527 122.278 6.53427 122.998 6.17427C123.736 5.79627 124.546 5.60727 125.428 5.60727C126.598 5.60727 127.525 5.94027 128.209 6.60627C128.911 7.27227 129.262 8.29827 129.262 9.68427V17.2983C129.262 17.6583 129.334 17.9463 129.478 18.1623C129.622 18.3783 129.874 18.5403 130.234 18.6483L130.45 18.7293V18.9993H124.132V18.7293L124.456 18.6483C125.104 18.4323 125.428 17.9733 125.428 17.2713V8.79327C125.428 8.07327 125.302 7.57827 125.05 7.30827C124.816 7.03827 124.393 6.90327 123.781 6.90327C123.385 6.90327 122.953 6.98427 122.485 7.14627C122.017 7.29027 121.54 7.55127 121.054 7.92927V17.3253C121.054 18.0273 121.378 18.4773 122.026 18.6753L122.242 18.7293V18.9993H115.924Z" fill="currentColor"/>
        <path d="M136.504 19.4043C135.352 19.4043 134.452 19.1163 133.804 18.5403C133.174 17.9643 132.859 17.0463 132.859 15.7863V6.55227H130.996V6.28227L131.644 6.17427C132.202 6.04827 132.679 5.86827 133.075 5.63427C133.489 5.40027 133.894 5.08527 134.29 4.68927L136.504 2.23227H136.774L136.693 6.01227H139.717V6.55227H136.666V16.2723C136.666 16.9023 136.801 17.3793 137.071 17.7033C137.359 18.0273 137.719 18.1893 138.151 18.1893C138.529 18.1893 138.862 18.0993 139.15 17.9193C139.438 17.7213 139.726 17.4603 140.014 17.1363L140.284 17.4063C139.924 18.0183 139.429 18.5043 138.799 18.8643C138.169 19.2243 137.404 19.4043 136.504 19.4043Z" fill="currentColor"/>
      </svg>
    </div>
    <div class="options">
      <MenuItem
        v-for="item in options"
        :key="item.id"
        :info="item"
        :theme="theme"
        :menuActive="active"
        @select="select"
      />
    </div>
  </div>
</template>

<style scoped>
.menu {
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  z-index: 10;
  background-color: black;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  background-color: rgba(0, 0, 0, 0.5);
  padding: 15px;
  box-sizing: border-box;
  transition: all 400ms cubic-bezier(0.5, 0.0, 0.2, 1);
  -webkit-backdrop-filter: blur(10px);

  .title {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    flex-basis: 0;
    flex-grow: 1;
    transition: all 400ms cubic-bezier(0.5, 0.0, 0.2, 1);
    color: white;

    svg {
      width: 139px;
      height: auto;
    }
  }

  .options {
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }

  &.-inactive {
    pointer-events: none;
    opacity: 0;

    .title {
      transform: translateY(-30px) scale(1.2, 1.2);
    }
  }

  &.-active {
    
  }
}
</style>
