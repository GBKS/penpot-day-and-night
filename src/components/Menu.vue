<script setup>
import MenuItem from './MenuItem.vue'
import { computed } from 'vue'

const emit = defineEmits(['select', 'clearColors'])

const props = defineProps([
  'theme',
  'active',
  'options'
])

const classObject = computed(() => {
  const c = ['menu']

  if(props.active) c.push('-active')
  else c.push('-inactive')

  return c.join(' ')
})

function titleClick(event) {
  if(event.shiftKey) {
    emit('clearColors')
  }
}

function select(optionId) {
  emit('select', optionId)
}

</script>

<template>
  <div :class="classObject">
    <div class="title" @click="titleClick">
      <svg viewBox="0 0 139 26" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M0.59375 18.9993V18.7293L1.16075 18.5133C1.73675 18.2793 2.02475 17.8203 2.02475 17.1363V3.04227C2.02475 2.32227 1.73675 1.86327 1.16075 1.66527L0.59375 1.44927V1.17927H7.72175C9.62975 1.17927 11.2678 1.53927 12.6358 2.25927C14.0218 2.96127 15.0838 3.97827 15.8218 5.31027C16.5778 6.62427 16.9558 8.20827 16.9558 10.0623C16.9558 11.9523 16.5508 13.5633 15.7408 14.8953C14.9308 16.2273 13.7968 17.2443 12.3388 17.9463C10.8988 18.6483 9.19775 18.9993 7.23575 18.9993H0.59375ZM6.07475 18.4593H7.23575C8.53175 18.4593 9.57575 18.2073 10.3678 17.7033C11.1598 17.1813 11.7358 16.3173 12.0957 15.1113C12.4737 13.8873 12.6628 12.2133 12.6628 10.0893C12.6628 7.96527 12.4737 6.30027 12.0957 5.09427C11.7358 3.87027 11.1688 3.00627 10.3948 2.50227C9.62075 1.98027 8.60375 1.71927 7.34375 1.71927H6.07475V18.4593Z" fill="white"/>
        <path d="M21.6995 19.4043C20.6555 19.4043 19.7735 19.1073 19.0535 18.5133C18.3515 17.9193 18.0005 17.0643 18.0005 15.9483C18.0005 15.1023 18.4325 14.3283 19.2965 13.6263C20.1605 12.9063 21.5195 12.3663 23.3735 12.0063C23.6615 11.9523 23.9855 11.8983 24.3455 11.8443C24.7055 11.7723 25.0835 11.7003 25.4795 11.6283V9.49527C25.4795 8.27127 25.3265 7.41627 25.0205 6.93027C24.7325 6.42627 24.2735 6.17427 23.6435 6.17427C23.2115 6.17427 22.8695 6.31827 22.6175 6.60627C22.3655 6.87627 22.2035 7.35327 22.1315 8.03727L22.0775 8.33427C22.0415 9.10827 21.8525 9.67527 21.5105 10.0353C21.1685 10.3953 20.7455 10.5753 20.2415 10.5753C19.7735 10.5753 19.3865 10.4313 19.0805 10.1433C18.7745 9.85527 18.6215 9.46827 18.6215 8.98227C18.6215 8.24427 18.8735 7.62327 19.3775 7.11927C19.8995 6.61527 20.5835 6.23727 21.4295 5.98527C22.2755 5.73327 23.1935 5.60727 24.1835 5.60727C25.7855 5.60727 27.0185 6.00327 27.8825 6.79527C28.7645 7.56927 29.2055 8.83827 29.2055 10.6023V16.5693C29.2055 17.3793 29.5835 17.7843 30.3395 17.7843H30.9335L31.1765 18.0003C30.8345 18.4323 30.4565 18.7653 30.0425 18.9993C29.6465 19.2333 29.0795 19.3503 28.3415 19.3503C27.5495 19.3503 26.9195 19.1703 26.4515 18.8103C26.0015 18.4323 25.7045 17.9373 25.5605 17.3253C25.0205 17.9013 24.4625 18.3963 23.8865 18.8103C23.3285 19.2063 22.5995 19.4043 21.6995 19.4043ZM23.3465 17.7573C23.7065 17.7573 24.0395 17.6763 24.3455 17.5143C24.6695 17.3343 25.0475 17.0643 25.4795 16.7043V12.1683C25.2995 12.2043 25.1195 12.2403 24.9395 12.2763C24.7595 12.3123 24.5525 12.3483 24.3185 12.3843C23.4905 12.6003 22.8245 12.9693 22.3205 13.4913C21.8345 13.9953 21.5915 14.6793 21.5915 15.5433C21.5915 16.2813 21.7625 16.8393 22.1045 17.2173C22.4465 17.5773 22.8605 17.7573 23.3465 17.7573Z" fill="white"/>
        <path d="M33.7943 25.4793C33.0743 25.4793 32.4983 25.2993 32.0663 24.9393C31.6523 24.5793 31.4453 24.1203 31.4453 23.5623C31.4453 23.0583 31.6253 22.6533 31.9853 22.3473C32.3453 22.0413 32.7503 21.8883 33.2003 21.8883C33.6503 21.8883 34.0283 21.9783 34.3343 22.1583C34.6403 22.3563 34.9103 22.6353 35.1443 22.9953L35.3333 23.2113C35.7293 23.7513 36.1253 23.7423 36.5213 23.1843C36.6833 22.9143 36.8633 22.5543 37.0613 22.1043C37.2773 21.6723 37.5203 21.0873 37.7903 20.3493L32.5523 7.82127C32.4263 7.47927 32.2913 7.20927 32.1473 7.01127C32.0033 6.79527 31.7693 6.61527 31.4453 6.47127L30.9593 6.28227V6.01227H37.6823V6.25527L37.1423 6.47127C36.7463 6.59727 36.5393 6.80427 36.5213 7.09227C36.5213 7.36227 36.5933 7.70427 36.7373 8.11827L39.5453 15.4083L42.2183 8.03727C42.3623 7.62327 42.4163 7.28127 42.3803 7.01127C42.3443 6.72327 42.1193 6.52527 41.7053 6.41727L41.1383 6.28227V6.01227H44.8913V6.28227L44.2973 6.47127C43.8833 6.59727 43.5953 6.77727 43.4333 7.01127C43.2713 7.24527 43.1183 7.56927 42.9743 7.98327L38.6273 19.8363C37.9253 21.7263 37.2233 23.1393 36.5213 24.0753C35.8193 25.0113 34.9103 25.4793 33.7943 25.4793Z" fill="white"/>
        <path d="M57.3627 19.4043C56.1747 19.4043 55.1577 19.1883 54.3117 18.7563C53.4837 18.3063 52.8537 17.7213 52.4217 17.0013C51.9897 16.2813 51.7737 15.4803 51.7737 14.5983C51.7737 12.4203 53.1777 10.7463 55.9857 9.57627C55.4817 8.89227 55.0317 8.19927 54.6357 7.49727C54.2577 6.79527 54.0687 5.97627 54.0687 5.04027C54.0687 3.76227 54.5187 2.74527 55.4187 1.98927C56.3367 1.21527 57.5337 0.828266 59.0097 0.828266C60.4497 0.828266 61.5657 1.15227 62.3577 1.80027C63.1497 2.43027 63.5457 3.26727 63.5457 4.31127C63.5457 5.19327 63.1857 5.96727 62.4657 6.63327C61.7457 7.29927 60.7197 7.91127 59.3877 8.46927C59.7297 8.84727 60.0807 9.25227 60.4407 9.68427C60.8187 10.0983 61.2057 10.5123 61.6017 10.9263C62.0877 11.4663 62.5557 11.9793 63.0057 12.4653C63.4737 12.9513 63.9417 13.4553 64.4097 13.9773C64.8417 13.3833 65.2467 12.6633 65.6247 11.8173C66.0027 10.9713 66.2997 10.0803 66.5157 9.14427C66.6597 8.46027 66.3987 8.01927 65.7327 7.82127L65.5437 7.74027V7.47027H68.5947V7.74027L68.3517 7.82127C67.7577 8.01927 67.3707 8.43327 67.1907 9.06327C66.9207 10.0713 66.5877 11.0253 66.1917 11.9253C65.7957 12.8253 65.3367 13.6443 64.8147 14.3823L67.7037 17.4333C67.9377 17.6853 68.1717 17.8923 68.4057 18.0543C68.6397 18.2163 68.9007 18.3783 69.1887 18.5403L69.5667 18.7293V18.9993H64.1127L62.3037 17.0553C61.9617 17.4333 61.5747 17.8023 61.1427 18.1623C60.7107 18.5223 60.1887 18.8193 59.5767 19.0533C58.9647 19.2873 58.2267 19.4043 57.3627 19.4043ZM59.0637 8.11827C59.7657 7.48827 60.2697 6.85827 60.5757 6.22827C60.8997 5.58027 61.0617 4.86927 61.0617 4.09527C61.0617 3.39327 60.8817 2.82627 60.5217 2.39427C60.1617 1.94427 59.6667 1.71927 59.0367 1.71927C58.4427 1.71927 57.9477 1.93527 57.5517 2.36726C57.1557 2.79927 56.9577 3.34827 56.9577 4.01427C56.9577 4.42827 57.0297 4.86027 57.1737 5.31027C57.3357 5.76027 57.6147 6.27327 58.0107 6.84927C58.1187 6.99327 58.2627 7.16427 58.4427 7.36227C58.6227 7.56027 58.8297 7.81227 59.0637 8.11827ZM58.9287 17.5953C59.5587 17.5953 60.1257 17.5053 60.6297 17.3253C61.1337 17.1273 61.5657 16.8843 61.9257 16.5963C61.4937 16.1103 61.0437 15.6063 60.5757 15.0843C60.1077 14.5443 59.6667 14.0313 59.2527 13.5453C58.7487 12.9513 58.2537 12.3573 57.7677 11.7633C57.2997 11.1693 56.8317 10.5933 56.3637 10.0353C55.8957 10.4673 55.5537 10.9713 55.3377 11.5473C55.1217 12.1233 55.0137 12.7263 55.0137 13.3563C55.0137 14.5803 55.3737 15.5973 56.0937 16.4073C56.8317 17.1993 57.7767 17.5953 58.9287 17.5953Z" fill="white"/>
        <path d="M77.0046 18.9993V18.7293L77.3826 18.6213C78.0126 18.4413 78.3276 18.0003 78.3276 17.2983V8.84727C78.3276 8.45127 78.2646 8.16327 78.1386 7.98327C78.0126 7.78527 77.7696 7.65027 77.4096 7.57827L77.0046 7.47027V7.20027L81.6216 5.63427L81.8916 5.90427L82.1076 7.52427C82.7376 6.96627 83.4486 6.50727 84.2406 6.14727C85.0326 5.78727 85.8156 5.60727 86.5896 5.60727C87.7776 5.60727 88.6866 5.93127 89.3166 6.57927C89.9646 7.22727 90.2886 8.21727 90.2886 9.54927V17.3253C90.2886 18.0273 90.6306 18.4683 91.3146 18.6483L91.5576 18.7293V18.9993H85.1856V18.7293L85.5366 18.6213C86.1666 18.4233 86.4816 17.9823 86.4816 17.2983V8.68527C86.4816 7.53327 85.9056 6.95727 84.7536 6.95727C83.9616 6.95727 83.0976 7.35327 82.1616 8.14527V17.3253C82.1616 18.0273 82.4766 18.4683 83.1066 18.6483L83.3496 18.7293V18.9993H77.0046Z" fill="white"/>
        <path d="M95.854 4.20327C95.242 4.20327 94.72 4.01427 94.288 3.63627C93.874 3.24027 93.667 2.74527 93.667 2.15127C93.667 1.53927 93.874 1.04427 94.288 0.666266C94.72 0.288266 95.242 0.0992653 95.854 0.0992653C96.466 0.0992653 96.979 0.288266 97.393 0.666266C97.807 1.04427 98.014 1.53927 98.014 2.15127C98.014 2.74527 97.807 3.24027 97.393 3.63627C96.979 4.01427 96.466 4.20327 95.854 4.20327ZM92.668 18.9993V18.7293L93.046 18.6213C93.406 18.5133 93.649 18.3513 93.775 18.1353C93.919 17.9193 93.991 17.6313 93.991 17.2713V8.82027C93.991 8.44227 93.919 8.16327 93.775 7.98327C93.649 7.78527 93.406 7.65027 93.046 7.57827L92.668 7.49727V7.22727L97.609 5.63427L97.879 5.90427L97.798 9.73827V17.2983C97.798 17.6583 97.861 17.9463 97.987 18.1623C98.131 18.3783 98.374 18.5403 98.716 18.6483L98.986 18.7293V18.9993H92.668Z" fill="white"/>
        <path d="M106.067 14.3283C104.825 14.3283 103.772 14.1213 102.908 13.7073V14.6253C102.908 15.1833 103.187 15.5163 103.745 15.6243L108.821 16.5693C109.667 16.7313 110.432 16.9473 111.116 17.2173C111.8 17.4693 112.349 17.8383 112.763 18.3243C113.177 18.7923 113.384 19.4403 113.384 20.2683C113.384 21.1503 113.096 21.9603 112.52 22.6983C111.944 23.4543 111.089 24.0573 109.955 24.5073C108.839 24.9753 107.444 25.2093 105.77 25.2093C104.33 25.2093 103.187 25.0563 102.341 24.7503C101.495 24.4623 100.892 24.0843 100.532 23.6163C100.19 23.1483 100.019 22.6533 100.019 22.1313C100.019 21.4833 100.235 20.8263 100.667 20.1603C101.117 19.5123 101.666 18.9903 102.314 18.5943C101.756 18.3783 101.351 18.0993 101.099 17.7573C100.847 17.4153 100.721 17.0463 100.721 16.6503C100.721 16.2903 100.811 15.9573 100.991 15.6513C101.189 15.3273 101.423 15.0033 101.693 14.6793L102.584 13.5453C101.27 12.7893 100.613 11.6013 100.613 9.98127C100.613 8.68527 101.072 7.63227 101.99 6.82227C102.926 6.01227 104.294 5.60727 106.094 5.60727C107.012 5.60727 107.813 5.71527 108.497 5.93127C109.199 6.14727 109.775 6.45327 110.225 6.84927C110.801 6.75927 111.341 6.61527 111.845 6.41727C112.367 6.20127 112.835 5.91327 113.249 5.55327L113.627 5.82327V7.20027H110.576C111.224 7.92027 111.548 8.84727 111.548 9.98127C111.548 11.2413 111.08 12.2853 110.144 13.1133C109.226 13.9233 107.867 14.3283 106.067 14.3283ZM106.04 13.7883C106.76 13.7883 107.282 13.4913 107.606 12.8973C107.948 12.3033 108.119 11.3133 108.119 9.92727C108.119 8.54127 107.948 7.56927 107.606 7.01127C107.282 6.43527 106.778 6.14727 106.094 6.14727C105.428 6.14727 104.924 6.44427 104.582 7.03827C104.24 7.61427 104.069 8.59527 104.069 9.98127C104.069 11.3673 104.222 12.3483 104.528 12.9243C104.852 13.5003 105.356 13.7883 106.04 13.7883ZM102.017 21.2673C102.017 22.3293 102.341 23.1303 102.989 23.6703C103.655 24.2103 104.699 24.4803 106.121 24.4803C107.615 24.4803 108.74 24.2373 109.496 23.7513C110.252 23.2653 110.63 22.5813 110.63 21.6993C110.63 21.1953 110.441 20.7903 110.063 20.4843C109.703 20.1783 109.082 19.9443 108.2 19.7823L103.313 18.8643C103.169 18.8283 103.025 18.7923 102.881 18.7563C102.629 19.1163 102.422 19.5213 102.26 19.9713C102.098 20.4393 102.017 20.8713 102.017 21.2673Z" fill="white"/>
        <path d="M114.501 18.9993V18.7293L114.825 18.6213C115.473 18.4053 115.797 17.9553 115.797 17.2713V2.85327C115.797 2.47527 115.734 2.19627 115.608 2.01627C115.482 1.83627 115.239 1.70127 114.879 1.61127L114.474 1.50327V1.23327L119.226 0.0722656L119.658 0.315266L119.55 4.12227V7.49727C120.18 6.97527 120.855 6.53427 121.575 6.17427C122.313 5.79627 123.123 5.60727 124.005 5.60727C125.175 5.60727 126.102 5.94027 126.786 6.60627C127.488 7.27227 127.839 8.29827 127.839 9.68427V17.2983C127.839 17.6583 127.911 17.9463 128.055 18.1623C128.199 18.3783 128.451 18.5403 128.811 18.6483L129.027 18.7293V18.9993H122.709V18.7293L123.033 18.6483C123.681 18.4323 124.005 17.9733 124.005 17.2713V8.79327C124.005 8.07327 123.879 7.57827 123.627 7.30827C123.393 7.03827 122.97 6.90327 122.358 6.90327C121.962 6.90327 121.53 6.98427 121.062 7.14627C120.594 7.29027 120.117 7.55127 119.631 7.92927V17.3253C119.631 18.0273 119.955 18.4773 120.603 18.6753L120.819 18.7293V18.9993H114.501Z" fill="white"/>
        <path d="M135.08 19.4043C133.928 19.4043 133.028 19.1163 132.38 18.5403C131.75 17.9643 131.435 17.0463 131.435 15.7863V6.55227H129.572V6.28227L130.22 6.17427C130.778 6.04827 131.255 5.86827 131.651 5.63427C132.065 5.40027 132.47 5.08527 132.866 4.68927L135.08 2.23227H135.35L135.269 6.01227H138.293V6.55227H135.242V16.2723C135.242 16.9023 135.377 17.3793 135.647 17.7033C135.935 18.0273 136.295 18.1893 136.727 18.1893C137.105 18.1893 137.438 18.0993 137.726 17.9193C138.014 17.7213 138.302 17.4603 138.59 17.1363L138.86 17.4063C138.5 18.0183 138.005 18.5043 137.375 18.8643C136.745 19.2243 135.98 19.4043 135.08 19.4043Z" fill="white"/>
      </svg>
    </div>
    <div class="options">
      <MenuItem
        v-for="item in options"
        :key="item.id"
        :info="item"
        :theme="theme"
        :menuActive="active"
        @select="select"
      />
    </div>
  </div>
</template>

<style scoped>
.menu {
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  z-index: 10;
  background-color: black;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  background-color: rgba(0, 0, 0, 0.5);
  padding: 15px;
  box-sizing: border-box;
  transition: all 400ms cubic-bezier(0.5, 0.0, 0.2, 1);
  -webkit-backdrop-filter: blur(10px);

  .title {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    flex-basis: 0;
    flex-grow: 1;
    transition: all 400ms cubic-bezier(0.5, 0.0, 0.2, 1);

    svg {
      width: 139px;
      height: auto;
    }
  }

  .options {
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }

  &.-inactive {
    pointer-events: none;
    opacity: 0;

    .title {
      transform: translateY(-30px) scale(1.2, 1.2);
    }
  }

  &.-active {
    
  }
}
</style>
